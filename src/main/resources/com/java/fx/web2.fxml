<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.TextField?>
<AnchorPane fx:id="anchorweb2" xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.cats.cats.UsuarioController"
            stylesheets="@styles.css">

    <BorderPane AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0"
                AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">

        <!-- Top: Barra superior combinada -->
        <top>
            <HBox alignment="CENTER" style="-fx-padding: 10; -fx-background-color: #f0f0f0;" spacing="10">
                <!-- BotÃ³n ONG -->
                <Button fx:id="ongButton" text="%ong"
                        onMouseClicked="#handleONG"
                        styleClass="modern-button"
                        minWidth="80"/>

                <!-- Barra de bÃºsqueda -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <TextField fx:id="searchField"
                               promptText="%search.prompt"
                               styleClass="modern-textfield"
                               minWidth="200"/>
                    <Button fx:id="searchButton"
                            onMouseClicked="#handleSearchBreed"
                            text="%search.button"
                            styleClass="modern-button"
                            minWidth="80"/>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- ðŸ”´ Etiqueta de modo invitado -->
                <Label fx:id="guestLabel" text="%guest.mode"
                       style="-fx-text-fill: red; -fx-font-weight: bold; -fx-padding: 0 10 0 0;"
                       visible="false"/>

                <!-- BotÃ³n de login -->
                <Button fx:id="goToLoginButton"
                        onMouseClicked="#handleGoToLogin"
                        text="%goToLogin"
                        styleClass="modern-button"
                        minWidth="120"/>

                <!-- Perfil de usuario -->
                <StackPane onMouseClicked="#handleOpenProfile">
                    <Circle radius="20" fill="WHITE" stroke="BLACK" strokeWidth="1"/>
                    <ImageView fx:id="profileIcon" fitWidth="40" fitHeight="40" preserveRatio="true" pickOnBounds="true">
                        <image>
                            <Image url="/assets/profile_icon.png" />
                        </image>
                    </ImageView>
                </StackPane>
            </HBox>
        </top>

        <!-- Center: Lista de gatos con GridPane -->
        <center>
            <ScrollPane fx:id="scrol"
                        fitToWidth="true" fitToHeight="true"
                        hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
                <content>
                    <AnchorPane>
                        <GridPane fx:id="catsGrid"
                                  hgap="20"
                                  vgap="20"
                                  AnchorPane.topAnchor="0"
                                  AnchorPane.leftAnchor="0"
                                  AnchorPane.rightAnchor="0">
                            <padding>
                                <Insets top="20" right="20" bottom="20" left="20"/>
                            </padding>
                            <columnConstraints>
                                <ColumnConstraints hgrow="ALWAYS" percentWidth="50" />
                                <ColumnConstraints hgrow="ALWAYS" percentWidth="50" />
                            </columnConstraints>
                        </GridPane>
                    </AnchorPane>
                </content>
            </ScrollPane>
        </center>

        <!-- Bottom: Botones de navegaciÃ³n -->
        <bottom>
            <HBox fx:id="buttonContainer"
                  spacing="20" alignment="CENTER"
                  style="-fx-background-color: #f0f0f0; -fx-padding: 15;"
                  prefHeight="80">

                <Button fx:id="previouspage"
                        onMouseClicked="#handlePreviousPage"
                        styleClass="modern-button-icon"
                        minWidth="60" minHeight="60">
                    <graphic>
                        <ImageView fitWidth="40" fitHeight="40" preserveRatio="true">
                            <Image url="/assets/left.png" />
                        </ImageView>
                    </graphic>
                </Button>

                <Button fx:id="suggestButton"
                        onMouseClicked="#handleSuggestions"
                        text="%suggestions.button"
                        styleClass="modern-button"
                        minWidth="150" minHeight="50"
                        style="-fx-font-size: 16px;"/>

                <Button fx:id="chooseForYouButton"
                        onMouseClicked="#handleChooseForYou"
                        text="%chooseForYou"
                        styleClass="modern-button"
                        minWidth="150" minHeight="50"
                        style="-fx-font-size: 16px;"/>

                <Button fx:id="adoptedButton"
                        onMouseClicked="#handleGoToAdopted"
                        text="%adopted.button"
                        styleClass="modern-button"
                        minWidth="150" minHeight="50"
                        style="-fx-font-size: 16px;"/>

                <Button fx:id="reviewsButton"
                        onMouseClicked="#handleReviews"
                        text="%reviews.button"
                        styleClass="modern-button"
                        minWidth="120" minHeight="50"
                        style="-fx-font-size: 16px;"/>

                <Button fx:id="nextpage"
                        onMouseClicked="#handleNextPage"
                        styleClass="modern-button-icon"
                        minWidth="60" minHeight="60">
                    <graphic>
                        <ImageView fitWidth="40" fitHeight="40" preserveRatio="true">
                            <Image url="/assets/right.png" />
                        </ImageView>
                    </graphic>
                </Button>
            </HBox>
        </bottom>
    </BorderPane>
</AnchorPane>



